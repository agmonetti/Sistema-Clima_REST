1. GESTIÓN DE SESIONES Y AUTENTICACIÓN (SEGURIDAD)
Propósito: Almacenar tokens de sesión para autenticación rápida.

KEY_PATTERN: session:<token_jwt_id>
DATA_TYPE: STRING
VALUE: JSON_string_con_user_id_y_rol
TTL_POLICY: 3600 (1 hora)
COMANDO_EJEMPLO: SET session:abc123456 '{"user_id":101,"rol":"usuario"}' EX 3600



2. ESTADO OPERACIONAL DE SENSORES (TIEMPO REAL)
Propósito: Detección instantánea de fallas y visualización de estado.

KEY_PATTERN: sensor:estado:<sensor_id>
DATA_TYPE: HASH
FIELDS: ultima_t, ultima_h, alerta, timestamp_act
TTL_POLICY: 300 (5 minutos)
COMANDO_EJEMPLO: HSET sensor:estado:A123 ultima_t 25.4 timestamp_act 1678886400 EX 300

KEY_PATTERN: online:user:<user_id>
DATA_TYPE: STRING
VALUE: "1" o timestamp_UNIX
TTL_POLICY: 60 (1 minuto)
JUSTIFICACION: Debe refrescarse constantemente por la aplicación para mantener el estado "En Línea".


3. CACHÉ DE REPORTES (RENDIMIENTO)
Propósito: Evitar consultas costosas a MongoDB/PostgreSQL.

KEY_PATTERN: cache:reporte:<tipo>:<sensor_id>:<fecha>
DATA_TYPE: STRING
VALUE: JSON_string_con_resultado_del_reporte
TTL_POLICY: 7200 (2 horas)
COMANDO_EJEMPLO: SET cache:reporte:diario:A123:20251029 '{"max":35.2,"min":15.1}' EX 7200


4. MENSAJERÍA EN TIEMPO REAL (PUB/SUB)
Propósito: Canales de comunicación instantánea (no persistente).

KEY_PATTERN: chat:conversacion:<Mongo_id>
DATA_TYPE: PUB/SUB CHANNEL
TTL_POLICY: N/A (No aplica)
JUSTIFICACION: Redis no almacena los mensajes, solo los transmite instantáneamente. El historial se guarda en MongoDB.
COMANDO_EJEMPLO: PUBLISH chat:conversacion:654321 '{"remitente":101, "msg":"Alerta revisada"}'